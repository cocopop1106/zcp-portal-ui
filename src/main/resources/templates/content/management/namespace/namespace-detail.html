<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3" layout:decorator="layout/template-default">
<head>
	<title>CloudZ CP</title>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<script src="/js/common/namespaceCommon.js" data-th-src="@{/js/common/namespaceCommon.js}"></script>
	<script th:inline="javascript" type="text/javascript">
	/*<![CDATA[*/
		function initNamespace(namespace){
			var url = "/management/namespace/getNamespaceResource";
			ajaxCall(url, {"namespace" : namespace}).done(function(data){
				var quota = data.resourceQuota;
				var limit = data.limitRange;
				var cpu_requeset, cpu_limit, memory_request, memory_limit;
				if(quota){
					$('#input_cpu_requests').val(ntrim(quota.status.hard["requests.cpu"]));
					$('#input_cpu_limits').val(ntrim(quota.status.hard["limits.cpu"]));
					$('#input_memory_requests').val(ntrim(quota.status.hard["requests.memory"]));
					$('#input_memory_limits').val(ntrim(quota.status.hard["limits.memory"]));
					$('#input_pods').val(quota.status.hard.pods);
					$('#input_services').val(quota.status.hard.services);
					$('#input_secrets').val(quota.status.hard.secrets);
					$('#input_config_maps').val(quota.status.hard.configmaps);
					$('#input_pesistent_volumne').val(quota.status.hard.persistentvolumeclaims);
					$('#input_load_balancers').val(quota.status.hard["services.loadbalancers"]);
					selected('cpu_requests', quota.status.hard["requests.cpu"], 'm');
					selected('cpu_limits', quota.status.hard["limits.cpu"], 'm');
					selected('memory_requests', quota.status.hard["requests.memory"], 'Gi');
					selected('memory_limits', quota.status.hard["limits.memory"], 'Gi');
				}
				if(limit){
					cpu_requeset = limit.spec.limits[0].defaultRequest.cpu ? limit.spec.limits[0].defaultRequest.cpu.number : 0;
					cpu_limit = limit.spec.limits[0].default.cpu ? limit.spec.limits[0].default.cpu.number : 0;
					memory_request = limit.spec.limits[0].defaultRequest.memory ? limit.spec.limits[0].defaultRequest.memory.number : 0;
					memory_limit = limit.spec.limits[0].default.memory ? limit.spec.limits[0].default.memory.number : 0;
					$('#input_pod_cpu_requests').val(	cpu_requeset);
					$('#input_pod_cpu_limits').val(		cpu_limit);
					$('#input_pod_memory_requests').val( memory_request);
					$('#input_pod_memory_limits').val(	memory_limit);
					selected('pod_cpu_requests', ntrim(quota.status.hard["requests.cpu"]), 'm');
					selected('pod_cpu_limits', ntrim(quota.status.hard["limits.cpu"]), 'm');
					selected('pod_memory_requests', ntrim(quota.status.hard["requests.memory"]), 'Gi');
					selected('pod_memory_limits', ntrim(quota.status.hard["limits.memory"]), 'Gi');
				}
				if(data.namespace){
					$('#input_namespace').val(data.namespace)
				}
				var maxCnt = 1000;
				
				var cpuRq = Number(quota.status.used["requests.cpu"]) / Number(quota.status.hard["requests.cpu"]) *100;
				var cpuLm = Number(quota.status.used["limits.cpu"]) / Number(quota.status.hard["limits.cpu"]) *100;
				var memRm = Number(quota.status.used["requests.memory"]) / Number(quota.status.hard["requests.memory"]) *100;
				var memLm = Number(quota.status.used["limits.memory"]) / Number(quota.status.hard["limits.memory"]) *100;
				var pods =  Number(quota.status.hard.pods) / maxCnt *100;
				var services =  Number(quota.status.hard.services) / maxCnt *100;
				var secrets =  Number(quota.status.hard.secrets) / maxCnt *100;
				var configMaps =  Number(quota.status.hard.secrets) / maxCnt *100;
				var persistentVolumne =  Number(quota.status.hard.persistentvolumeclaims) / maxCnt *100;
				var loadbalancers =  Number(quota.status.hard["services.loadbalancers"]) / maxCnt *100;
				var cpuRqPod = Number(limit.spec.limits[0].defaultRequest.cpu.number) / Number(limit.spec.limits[0].default.cpu.number) *100;
				//var cpuLmPod = Number(quota.status.used["limits.cpu"]) / Number(quota.status.hard["limits.cpu"]) *100;
				var memRmPod = Number(memory_request) / Number(memory_limit) *100;
				//var memLmPod = Number(quota.status.used["limits.memory"]) / Number(quota.status.hard["limits.memory"]) *100;
				
				setGraph('cpu_requests', cpuRq);
				setGraph('cpu_limits', cpuLm);
				setGraph('memory_requests', memRm);
				setGraph('memory_limits', memLm);
				setGraph('pods', pods);
				setGraph('services', services);
				setGraph('secrets', secrets);
				setGraph('config_maps', configMaps);
				setGraph('persistent_volumne', persistentVolumne);
				setGraph('load_balancers', loadbalancers);
				setGraphPod('cpu_requests', cpuRqPod);
				setGraphPod('cpu_limits', 0);
				setGraphPod('memory_requests', memRmPod);
				setGraphPod('memory_limits', 0);
				
				
			});
			url = "/management/namespace/labels";
			ajaxCall(url, {"namespace" : namespace}).done(function(data){
				if(data.items){
					var html='';
					$.each(data.items, function(idx, data){
						html +=makeHtmlLabel(data);	
					});
					$('#div_label').append(html);
				}
				function makeHtmlLabel(name){
					var html = '<span class="Label Default" >'+name+'</span>';
					html +='<button class="btn-ico label-del" onclick="delLabel(\''+name+'\')">삭제</button>';
					return html;
				}
			});
			
			function setGraph(obj_id, used){
				used = ntrim(used);
				$('#div_' +obj_id).find('div').css('width', used + 'px');
				$('#span_'+ obj_id).text(used + '%');
				if(Number(used) > 80){
					$('#div_' +obj_id).removeClass('name-typea').addClass('name-typee');
				}
			}
			function setGraphPod(obj_id, used){
				used = ntrim(used);
				$('#div_pod_' +obj_id).find('div').css('width', used + 'px');
				$('#span_pod_'+ obj_id).text(used + '%');
				if(Number(used) > 80){
					$('#div_' +obj_id).removeClass('name-typea').addClass('name-typee');
				}
			}
			
			function selected(id, value, unit){
				if(value && value.indexOf(unit) > -1) 
					$('#select_'+id).setSelected(unit)
			}
		}
	
		function ntrim(data){
			data = data +'';
			data = data.replace('m','');
			data = data.replace('Gi','');
			data = isNaN(data) ? 0 : data;
			return data;
		}
	
		$(document).ready(function(){
			var namespace = /*[[${namespace}]]*/;
			var status = /*[[${param.status}]]*/;
			if(namespace){
				$('#input_namespace').val(namespace);
				initNamespace(namespace);
				$('#span_namespace').text(namespace);
				if('inactive' == status)
					$('.active').removeClass('active').addClass('inactive');
			}
			
		});
		
		function addNamespace(){
			function getCpu(id){
				var v = $('#'+id + " :selected" ).val();
				if(v == 'm') return "m";
				return "";
			}
			function getMemory(id){
				var v = $('#'+id + " :selected" ).val();
				if(v == 'Gi') return "Gi";
				return "";
			}
			
			if(!validate()) return ;
			
			var data={
				resourceQuota : {
					spec :{
						hard : {
							"requests.cpu" : $('#input_cpu_requests').val() + $('#select_cpu_requests option:selected').val()
							,"limits.cpu" : $('#input_cpu_limits').val() + $('#select_cpu_limits option:selected').val()
							,"requests.memory" : $('#input_memory_requests').val() + $('#select_memory_requests option:selected').val()
							,"limits.memory" : $('#input_memory_limits').val() + $('#select_memory_limits option:selected').val()
							,"pods" : $('#input_pods').val() ? $('#input_pods').val() + '': "0" 
							,"services" : $('#input_services').val() ? $('#input_services').val() + '': "0"
							,"secrets" : $('#input_secrets').val() ? $('#input_secrets').val()+ '' : "0"
							,"configmaps" : $('#input_config_maps').val() ? $('#input_config_maps').val()+ '' : "0"
							,"persistentvolumeclaims" : $('#input_persistent_volumne').val() ? $('#input_persistent_volumne').val()+ '' : "0"
							,"services.loadbalancers" : $('#input_load_balancers').val() ? $('#input_load_balancers').val()+ '' : "0"
						}
					}
				},
				limitRange : {
					spec : {
						limits : [{
							defaultRequest : {
								cpu : $('#input_pod_cpu_requests').val()  + $('#select_pod_cpu_requests option:selected').val()
								,memory :  $('#input_pod_memory_requests').val() + $('#select_pod_memory_requests option:selected').val()
							},
							default : {
								cpu :  $('#input_pod_cpu_limits').val() + $('#select_pod_cpu_limits option:selected').val()
								,memory : $('#input_pod_memory_limits').val() + $('#select_pod_memory_limits option:selected').val()
							},
							type: "Container"
						}]
					}
				},
				namespace :  /*[[${namespace}]]*/
			};
			var url = "/management/namespace/createAndEdit";
			
			ajaxCall(url, data).done(function(data){
				alert('정상처리되었습니다.');
				//location.href='/management/namespaces';
			});
		}
		
		function validate(){
			var regex_namespace = /^[a-zA-Z][0-9a-zA-z\-]{5,11}$/;
			if(!regex_namespace.test($('#input_namespace').val())){
				alert('허용하지 않는 문자입니다.');
				return false;
			}
			if(!$('#input_cpu_requests').val()) {
				$('#input_cpu_requests').focus();
				alert('필수값 입니다.');
				return false;
			}
			if(!$('#input_cpu_limits').val()) return false;
			if(!$('#input_memory_requests').val()) return false;
			if(!$('#input_memory_limits').val()) return false;
			if(!$('#input_pod_cpu_requests').val()) return false;
			if(!$('#input_pod_cpu_limits').val()) return false;
			if(!$('#input_pod_memory_requests').val()) return false;
			if(!$('#input_pod_memory_limits').val()) return false;
			return true;
		}
		/////////////////////////////////////  member management /////////////////////////////////////
		function gridInitMember(data){
			
			AlopexGrid.setup({
	    		fitTableWidth : true 
	    	});
	    	//memeber
	    	$('#grid_member').alopexGrid({
	    		cellSelectable: true,
	    		cellInlineEdit: true,
	    		pager: true,
	    		paging: {
	    			perPage: 5,
	    			pagerCount: 5,
	    			pagerSelect: true,
	                pagerTotal: true
	    		},
	            defaultColumnMapping : {
	                sorting:true
	            },
	    		autoColumnIndex: true,
	    		columnMapping : [
	    			{
	    				key : 'username',
	    				title : '사용자 ID',
	    				width : '100px'
	    			}, {
	    				key : 'email',
	    				title : '이메일',
	    				width : '100px'
	    			}, {
	    				key : 'firstName',
	    				title : '이름',
	    				width : '100px',
	    				render : function( value, data, render, mapping){
	    					return data.firstName + " " + data.lastName;
	    				}
	    				
	    			}, {
	    				align : 'center',
	    				key : 'namespacedRole',
	    				title : '네임스페이스 권한',
	    				width : '100px',
	    				editable : {
	    		            type : "select",
	    		            rule : [ {value:"view",text:"view"},
	    		                    {value:"admin",text:"admin"},
	    		                    {value:"edit",text:"edit"},
	    		                    {value:"cluster-admin",text:"cluster-admin"},
	    		                    {value:"none",text:"none"}
	    		                    ],
	    		            styleclass : "group-select"
	    		        }
	    			}, {
	    				align : 'center',
	    				key : 'createdDate',
	    				title : '멤버 등록 일시',
	    				width : '100px',
	    				render : function(value, data, render, mapping){
	    					var dt = new Date(Number(data.createdDate));
	    					return dt.customFormat( "#YYYY#/#MM#/#DD# #hh#:#mm#" )
	    				}
	    			}, {
	    				align : 'center',
	    				key : 'enabled',
	    				title : '사용자 상태',
	    				width : '100px',
	    				render : function(value, data){
	    					return value==true ? "active" : "inactive";
	    				}
	    			}, {
	    				key : 'country',
	    				align : 'center',
	    				title : '관리',
	    				width : '100px',
	    				render : function(value, data, render, mapping){
	    					var namespace = /*[[${namespace}]]*/;
	    					var apply = {namespace:namespace, clusterRole : data.namespacedRole, username : data.username}
	    					return "<button class='Button btn' style='height:20px;line-height:0px' onclick='modifyNamespaceRole("+JSON.stringify(apply) +")'>변경 적용</button> <button class=\"btn-ico del\" onclick='delUser(" + JSON.stringify(data) + ")'></button>";
	    				}
	    			}
	    		],
	    		data: data
	    	});
		}
	    
		function gridInitUser(data){ 
	    	//user
	    	
	    	$('#grid_user').alopexGrid({
	    		cellSelectable: true,
	    		cellInlineEdit: true,
	    		pager: true,
	    		paging: {
	    			perPage: 5,
	    			pagerCount: 5,
	    			pagerSelect: true,
	                pagerTotal: true
	    		},
	            defaultColumnMapping : {
	                sorting:true
	            },
	    		autoColumnIndex: true,
	    		columnMapping : [
	    			{
	    				key : 'username',
	    				title : '사용자 ID',
	    				width : '100px'
	    			}, {
	    				key : 'email',
	    				title : '이메일',
	    				width : '100px'
	    			}, {
	    				key : 'lastName',
	    				title : '이름',
	    				width : '100px',
	    				render : function( value, data, render, mapping){
	    					return data.firstName + " " + data.lastName;
	    				}
	    			}, {
	    				align : 'center',
	    				key : 'clusterRole',
	    				title : 'Cluster 권한',
	    				width : '100px',
	    				/* editable : {
	    		            type : "select",
	    		            rule : [ {value:"person",text:"개인"},
	    		                    {value:"couple",text:"동반2인"},
	    		                    {value:"group",text:"동반3인이상"} ],
	    		            //또는 위와 같은 array를 리턴하는 함수
	    		            styleclass : "group-select",
	    		            attr : {
	    		                disabled : "disabled"
	    		            }
	    		        } */
	    			},{
	    				align : 'center',
	    				key : 'namespacedRole',
	    				title : '네임스페이스 권한',
	    				width : '100px',
	    				editable : {
	    		            type : "select",
	    		            rule : [ 
	    		            	{value:"view",text:"view"},
    		                    {value:"admin",text:"admin"},
    		                    {value:"edit",text:"edit"},
    		                    {value:"cluster-admin",text:"cluster-admin"},
    		                    {value:"none",text:"none"}
    		                    ],
	    		            styleclass : "group-select",
	    		            attr : {
	    		            	selected : "none"
	    		            }        
	    		        }
	    			}, {
	    				align : 'center',
	    				key : 'createdDate',
	    				title : '생성 일시',
	    				width : '100px',
	    				render : function(value, data, render, mapping){
	    					var dt = new Date(Number(data.createdDate));
	    					return dt.customFormat( "#YYYY#/#MM#/#DD# #hh#:#mm#" )
	    				}
	    			}, {
	    				align : 'center',
	    				key : 'enabled',
	    				title : '상태',
	    				width : '100px',
    					render : function(value, data){
        					return value==true ? "active" : "inactive";
        				}
	    			}, {
	    				align : 'center',
	    				title : '추가',
	    				width : '50px',
	    				render : function(value, data, render, mapping){
	    					return "<button class=\"btn-ico list-add\" onclick=\'addUser(" + JSON.stringify(data) + ")'></button>";
	    				}
	    			}
	    		],
	    		data: data
	    	});
		}
		
		function showMember(){
			var namespace = /*[[${namespace}]]*/;
			var memberList;
			$('#div_member').show();
			$('#div_resource').hide();
			ajaxCall('/management/namespace/users', {namespace : namespace}).done(function(data){
				gridInitMember(data.items);
			});
		}
		
		function showResource(){
			$('#div_member').hide();
			$('#div_resource').show();
		}
		
		function showUser(){
			var namespace = /*[[${namespace}]]*/;
			var memberList;
			ajaxCall('/management/namespace/users', {}).done(function(data){
				gridInitUser(data.items);
				$("#grid_member").alopexGrid( "viewUpdate" );
			});
		}
		
		function addUser(data){
			var namespace = /*[[${namespace}]]*/;
			if(!data.namespacedRole) {
				alert('네임스페이스 권한이 필요합니다.'); 
				return ;
			}
			var user = {
				"username" : data.username
				,"namespace" : namespace 
				,"clusterRole" : data.namespacedRole
  				,"id" : data.id
			};
			ajaxCall('/management/namespace/saveRole', user).done(function(data){
				gridInitMember(data.items);
				showMember();
			});
		}
		
		function modifyNamespaceRole(data){
			if(!data.clusterRole) {
				alert('네임스페이스 권한이 필요합니다.'); 
				return ;
			}
			var namespace = /*[[${namespace}]]*/;
			ajaxCall('/management/namespace/modifyRole', data).done(function(data){
				//gridInitMember(data.items);
				alert('정상처리되었습니다.');
				//showMember();
			});
		}
		
		function delUser(data){
			var namespace = /*[[${namespace}]]*/;
			var user = {
					"username" : data.username
					,"namespace" : namespace 
					,"clusterRole" : data.namespacedRole
	  				,"id" : data.id
				};
			ajaxCall('/management/namespace/delRole', user).done(function(data){
				//gridInitMember(data.items);
				alert('정상처리되었습니다.');
				showMember();
			});
		}
		
		function search1(){
			var word = $('#searchWord1').val();
			if(!word) return;
			var namespace = /*[[${namespace}]]*/;
			var user = {
					"namespace" : namespace 
					,"searchWord" : word
				};
			ajaxCall('/management/namespace/users', user).done(function(data){
				gridInitMember(data.items);
				$("#grid_member").alopexGrid( "viewUpdate" );
			});
		}
		
		function search2(){
			var word = $('#searchWord2').val();
			if(!word) return;
			var namespace = /*[[${namespace}]]*/;
			var user = {
					"searchWord" : word
				};
			ajaxCall('/management/namespace/users', user).done(function(data){
				gridInitUser(data.items);
				$("#grid_member").alopexGrid( "viewUpdate" );
			});
		}
		
		function addLabel(){
			var namespace = /*[[${namespace}]]*/;
			var label = $('#input_label').val();
			ajaxCall('/management/namespace/addLabel', {namespace : namespace, label : label}).done(function(data){
				location.reload();
			});
		}
		
		function delLabel(label){
			var namespace = /*[[${namespace}]]*/;
			ajaxCall('/management/namespace/delLabel', {namespace : namespace, label : label}).done(function(data){
				location.reload();
			});
		}
		
		function goMain(){
			var namespace = /*[[${namespace}]]*/;
			location.href='/?namespace='+namespace;
		}
		
		function goUser(){
			location.href='/management/users';
		}
		
		
	 /*]]>*/
    </script>
</head>
<body>
<div class="cp-wrapper">
	<th:block layout:fragment="content">
	<!-- main-contents -->
	<div class="cp-container">
		<!-- contents -->
		<div class="contents-wrap">
			<!-- location -->
			<div class="locations-area">
				<div class="back-list"><a href="/management/namespaces"><span>목록으로 돌아가기</span></a></div>
			</div>
			<div class="contents-box">
				<!-- service top area-->
				<div class="top-area">
                    <dl class="service-info">
            			<dt><span id="span_namespace"></span>
            				<span class="state active"></span>
            				<p class="Tooltip" data-position="right">Active</p>
            			</dt>
            			<dd class="service-user">
            				<strong>생성일시</strong> : <span>2018-06-01 00:33:55</span>
            			</dd>
            		</dl>
            		<div class="btn-wrap__right">
	                    <button class="Button btn-ico__typeb btn-godash" onclick='goMain()'>Dashoboard 보기</button>
	                    <button class="Button btn-ico__typeb btn-config" onclick='goUser()'></button>
	                </div>
				</div>
				<!-- tab wrap -->
				<div class="Tabs Fixed" data-tab-width="180px">
				    <ul>
				        <li data-content="#tab1" onclick="showResource()">Resource 구성</li>
				        <li data-content="#tab2" onclick="showMember()">멤버관리</li>
				    </ul>
				    <!-- Resource 구성 -->
				    <div id="div_resource">
				    	<p class="intab-txt">Namespace의 Resource 구성정보를 조회 및 변경합니다.<a href="#" class="view-detail">자세히 보기</a></p>
					    <!-- intab tag-->
				    	<div class="intab-tag__wrap">
				    		<h3 class="form-title">라벨</h3>
				    		<div class="tag-wrap">
					    		<div id="div_label">
					    		</div>
            					<input class="Autocomplete add-label__input" id="input_label"/>
            					<button class="Label add-label" onclick="addLabel()">추가</button>
            				</div>
				    	</div>
					    <!-- namespace name detail data-->
						<div class="lay-item__box">
							<!-- left table-->
							<div class="lay-item__left">
								<h3 class="form-title">Resource Quotas</h3>
								<form>
									<fieldset>
										<table class="Table Form-type tbl-name">
											<colgroup>
												<col style="width: 180px;"/>
												<col/>
											</colgroup>
											<tbody>
												<tr>
													<th>CPU Requests</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left"><input class="Textinput" id="input_cpu_requests"/></div>
															<div class="left">
																<div class="Divselect" id="select_cpu_requests">
																    <select >
																        <option value="">CPU(core)</option>
												        				<option value="m">m(core)</option>
																    </select>
																    <span></span>
																</div>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_cpu_requests"></div>
																</div>
																<span class="name-pro__num" id="span_cpu_requests"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>CPU Limits</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_cpu_limits"/>
																<div class="Divselect"  id="select_cpu_limits">
																    <select>
																        <option value="">CPU(core)</option>
												        				<option value="m">m(core)</option>
																    </select>
																    <span></span>
																</div>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_cpu_limits"></div>
																</div>
																<span class="name-pro__num" id="span_cpu_limits"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Memory Requests</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_memory_requests"/>
																<div class="Divselect" id="select_memory_requests">
																    <select >
																        <option value="Gi">Gi</option>
												        				<option value="">Mi</option>
																    </select>
																    <span></span>
																</div>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_memory_requests"></div>
																</div>
																<span class="name-pro__num" id="span_memory_requests"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Memory Limits</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_memory_limits"/>
																<div class="Divselect"  id="select_memory_limits">
																    <select>
																        <option value="Gi">Gi</option>
												        				<option value="">Mi</option>
																    </select>
																    <span></span>
																</div>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_memory_limits"></div>
																</div>
																<span class="name-pro__num" id="span_memory_limits"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Pods</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_pods"/><span class="num-txt">개</span>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_pods"></div>
																</div>
																<span class="name-pro__num" id="span_pods"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Services</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput"  id="input_services"/><span class="num-txt">개</span>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_services"></div>
																</div>
																<span class="name-pro__num" id="span_services"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Secrets</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_secrets"/><span class="num-txt">개</span>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_secrets"></div>
																</div>
																<span class="name-pro__num" id="span_secrets"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Config Maps</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_config_maps"/><span class="num-txt">개</span>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_config_maps"></div>
																</div>
																<span class="name-pro__num" id="span_config_maps"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Persistent Volumne<br/>Claims</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_pesistent_volumne"/><span class="num-txt">개</span>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_persistent_volumne"></div>
																</div>
																<span class="name-pro__num" id="span_persistent_volumne"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Services Load<br/>Balancers</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput"  id="input_load_balancers"/><span class="num-txt">개</span>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_load_balancers"></div>
																</div>
																<span class="name-pro__num" id="span_load_balancers"></span>
															</div>
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</fieldset>
								</form>
							</div>
							<!--right table-->
							<div class="lay-item__right">
								<h3 class="form-title">Pod Default Limit Range</h3>
								<form>
									<fieldset>
										<table class="Table Form-type tbl-name">
											<colgroup>
												<col style="width: 180px;"/>
												<col/>
											</colgroup>
											<tbody>
												<tr>
													<th>CPU Requests</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_pod_cpu_requests"/>
																<div class="Divselect" id="select_pod_cpu_requests">
																    <select >
																        <option value="">CPU(core)</option>
												        				<option value="m">m(core)</option>
																    </select>
																    <span></span>
																</div>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typea" data-default="0" id="div_pod_cpu_requests"></div>
																</div>
																<span class="name-pro__num" id="span_pod_cpu_requests"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>CPU Limits</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_pod_cpu_limits"/>
																<div class="Divselect"  id="select_pod_cpu_limits">
																    <select>
																        <option value="">CPU(core)</option>
												        				<option value="m">m(core)</option>
																    </select>
																    <span></span>
																</div>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typeb" data-default="0" id="div_pod_cpu_limits"></div>
																</div>
																<span class="name-pro__num" id="span_pod_cpu_limits"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>Memory Requests</th>
													<td>
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_pod_memory_requests"/>
																<div class="Divselect"  id="select_pod_memory_requests">
																    <select>
																        <option value="Gi">Gi</option>
												        				<option value="">Mi</option>
																    </select>
																    <span></span>
																</div>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typec" data-default="0" id="div_pod_memory_requests"></div>
																</div>
																<span class="name-pro__num" id="span_pod_memory_requests"></span>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th class="Valign-top" style="height: 420px;">Memory Limits</th>
													<td class="Valign-top">
														<div class="tbl-group__wrap">
															<div class="left">
																<input class="Textinput" id="input_pod_memory_limits"/>
																<div class="Divselect"  id="select_pod_memory_limits">
																   <select>
																        <option value="Gi">Gi</option>
												        				<option value="">Mi</option>
																    </select>
																    <span></span>
																</div>
															</div>
															<div class="name-pro_position">
																<div class="name-pro__wrap">
																	<div class="Progressbar name-typed" data-default="0" id="div_pod_memory_limits"></div>
																</div>
																<span class="name-pro__num" id="span_pod_memory_limits"></span>
															</div>
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</fieldset>
								</form>
							</div>
						</div>
						<!-- button wrap-->
						<div class="btn-wrap">
							<div class="btn-right"><button class="Button btn bg-red"  onclick="addNamespace();">저장</button></div>
						</div>
					</div>
				    <!-- 멤버관리 -->
				    <div id="div_member" style="display:none">
				    	<p class="intab-txt">Namespace 멤버 권한 정보를 관리합니다.</p>
			    		<!-- search-wrap-->
						<div class="search-wrap">
							<input class="Textinput srcinput" id="searchWord1" placeholder="검색어를 입력하세요."/><button class="Button btn-search" onclick="search1()">검색</button>
						</div>
						<h3 class="form-title">멤버</h3>
		            	<div id="grid_member"></div>
						<div class="btn-wrap">
							<div class="btn-left"><button class="Button btn" onclick="showUser()">멤버추가</button></div>
						</div>
						<!-- <div class="search-wrap">
							<input class="Textinput srcinput" id="searchWord2" placeholder="검색어를 입력하세요."/><button class="Button btn-search">검색</button>
						</div> -->
						<div id="grid_user"></div>
				    </div>
				</div>
			</div>
		</div>
		<!-- //contents -->
	</div>
	<!-- //main-contents -->
	</th:block>
</div>
</body>
</html>

